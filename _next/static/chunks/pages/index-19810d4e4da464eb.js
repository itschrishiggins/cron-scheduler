(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2898:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3020)}])},3020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var a=n(7876),i=n(4232),l=n(7438),r=n(2460),s=n(2039),o=n(1618),c=n(3890),d=n(1850),m=n(5218),u=n(2643),h=n(5621),p=n(8895),v=n(1970),x=n(6229);function j(e){let{value:t,onChange:n}=e;return(0,a.jsxs)(h.A,{fullWidth:!0,variant:"outlined",children:[(0,a.jsx)(p.A,{htmlFor:"interval-picker",children:"Every"}),(0,a.jsx)(v.A,{id:"interval-picker",type:"number",value:t,onChange:e=>{n(parseInt(e.target.value,10)||0)},endAdornment:(0,a.jsx)(x.A,{position:"end",children:"minutes"}),label:"Every"})]})}var A=n(4515),g=n(3303);function f(e){let{value:t,onChange:n}=e,[l,r]=i.useState(t?new Date("1970-01-01T".concat(t,":00")):null);return(0,a.jsx)(g.A,{label:"Time",value:l,onChange:e=>{if(r(e),e){let t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");n("".concat(t,":").concat(a))}},renderInput:e=>(0,a.jsx)(A.A,{...e,margin:"normal",fullWidth:!0})})}function y(e){let{mode:t,interval:n,times:i,onModeChange:l,onIntervalChange:r,onTimeChange:s,onToggleSecond:h}=e,p=i.length>1;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.A,{row:!0,value:t,onChange:l,sx:{mb:2},children:[(0,a.jsx)(c.A,{value:"interval",control:(0,a.jsx)(d.A,{color:"primary",sx:{"&.Mui-checked":{color:"primary.light"}}}),label:"Every X minutes"}),(0,a.jsx)(c.A,{value:"times",control:(0,a.jsx)(d.A,{color:"primary",sx:{"&.Mui-checked":{color:"primary.light"}}}),label:"Specific time(s)"})]}),"interval"===t?(0,a.jsx)(j,{value:n,onChange:r}):(0,a.jsxs)(m.A,{spacing:2,children:[(0,a.jsx)(f,{label:"At",value:i[0],onChange:e=>s(e,0)}),(0,a.jsx)(u.A,{variant:"text",size:"small",onClick:h,children:p?"â€“ Remove second time":"+ Add another time"}),p&&(0,a.jsx)(f,{label:"Also at",value:i[1],onChange:e=>s(e,1)})]})]})}function C(e){let{state:t,onChange:n}=e,{mode:i,interval:l,times:o}=t;return(0,a.jsx)(r.A,{variant:"outlined",children:(0,a.jsx)(s.A,{children:(0,a.jsx)(y,{mode:i,interval:l,times:o,onModeChange:e=>n({...t,mode:e.target.value}),onIntervalChange:e=>n({...t,interval:e}),onTimeChange:(e,a)=>n({...t,times:t.times.map((t,n)=>n===a?e:t)}),onToggleSecond:()=>n({...t,times:t.times.length>1?[t.times[0]]:[...t.times,"12:00"]})})})})}var b=n(382),k=n(3900),S=n(6520);let M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function W(e){let{selected:t,onChange:n}=e;return(0,a.jsx)(S.A,{mb:2,children:(0,a.jsx)(k.A,{value:t,fullWidth:!0,onChange:(e,t)=>n(t),"aria-label":"days of week",children:M.map(e=>(0,a.jsx)(b.A,{value:e,"aria-label":e,children:e},e))})})}function I(e){let{state:t,onChange:n}=e,{daysOfWeek:i,mode:l,interval:o,times:c}=t;return(0,a.jsx)(r.A,{variant:"outlined",children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(W,{selected:i,onChange:e=>n({...t,daysOfWeek:e})}),(0,a.jsx)(y,{mode:l,interval:o,times:c,onModeChange:e=>n({...t,mode:e.target.value}),onIntervalChange:e=>n({...t,interval:e}),onTimeChange:(e,a)=>n({...t,times:t.times.map((t,n)=>n===a?e:t)}),onToggleSecond:()=>n({...t,times:c.length>1?[c[0]]:[...c,"12:00"]})})]})})}var w=n(5807),O=n(4146),T=n(2924),E=n(3690);let _=Array.from({length:31},(e,t)=>t+1);function D(e){let{selected:t,onChange:n}=e;return(0,a.jsxs)(h.A,{fullWidth:!0,margin:"normal",variant:"outlined",children:[(0,a.jsx)(p.A,{id:"day-of-month-label",children:"Days of Month"}),(0,a.jsx)(w.A,{labelId:"day-of-month-label",multiple:!0,value:t,onChange:e=>n(e.target.value),label:"Days of Month",renderValue:e=>e.join(", "),children:_.map(e=>(0,a.jsxs)(O.A,{value:e,children:[(0,a.jsx)(T.A,{checked:t.includes(e)}),(0,a.jsx)(E.A,{primary:e})]},e))})]})}function $(e){let{state:t,onChange:n}=e,{mode:i,interval:l,daysOfMonth:o,times:c}=t;return(0,a.jsx)(r.A,{variant:"outlined",children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(D,{selected:o,onChange:e=>{n({...t,daysOfMonth:e})}}),(0,a.jsx)(y,{mode:i,interval:l,times:c,onModeChange:e=>n({...t,mode:e.target.value}),onIntervalChange:e=>n({...t,interval:e}),onTimeChange:(e,a)=>n({...t,times:t.times.map((t,n)=>n===a?e:t)}),onToggleSecond:()=>n({...t,times:c.length>1?[c[0]]:[...c,"12:00"]})})]})})}var N=n(5939),Z=n(1567),F=n(1428),L=n(1054);let R=["Daily","Weekly","Monthly","Custom"];function X(){let[e,t]=(0,i.useState)("Daily"),[n,r]=(0,i.useState)(""),[s,x]=(0,i.useState)(!1),[j,A]=(0,i.useState)({mode:"interval",interval:15,times:["09:00"]}),[g,f]=(0,i.useState)({daysOfWeek:["Mon","Tue","Wed","Thu","Fri"],mode:"times",interval:15,times:["09:00"]}),[y,b]=(0,i.useState)({daysOfMonth:[1],mode:"times",interval:15,times:["09:00"]}),[k,M]=(0,i.useState)("");return(0,i.useEffect)(()=>{M(""),x(!1)},[e]),(0,a.jsxs)(L.A,{variant:"outlined",sx:{p:4,m:4,maxWidth:600,mx:"auto",borderColor:"background.border"},children:[(0,a.jsx)(S.A,{sx:{borderBottom:1,borderColor:"primary.dark",mb:3,pb:1},children:(0,a.jsx)(F.A,{variant:"h5",sx:{fontWeight:600,color:"primary.main"},children:"Task Scheduler"})}),(0,a.jsx)(S.A,{mb:3,children:(0,a.jsx)(o.A,{row:!0,value:e,onChange:e=>t(e.target.value),children:R.map(e=>(0,a.jsx)(c.A,{value:e,control:(0,a.jsx)(d.A,{color:"primary"}),label:e},e))})}),(0,a.jsxs)(S.A,{mb:5,children:["Daily"===e&&(0,a.jsx)(C,{state:j,onChange:A}),"Weekly"===e&&(0,a.jsx)(I,{state:g,onChange:f}),"Monthly"===e&&(0,a.jsx)($,{state:y,onChange:b})]}),s&&(0,a.jsx)(l.A,{severity:"warning",sx:{mb:3},children:"Expression invalid or not supported."}),(0,a.jsxs)(h.A,{fullWidth:!0,variant:"outlined",sx:{mb:3},children:["Custom"===e&&(0,a.jsx)(p.A,{htmlFor:"cron-expression",children:"Enter CRON Expression"}),(0,a.jsx)(v.A,{id:"cron-expression",value:"Custom"===e?k:n,onChange:"Custom"===e?e=>M(e.target.value):void 0,disabled:"Custom"!==e,label:"Custom"===e?"Enter CRON Expression":void 0})]}),(0,a.jsxs)(m.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,a.jsx)(u.A,{onClick:()=>{let a;x(!1);let i=("Custom"===e?k:n).trim();if(a=i.match(/^ \*\/(\d+) \* \* \* \*$/)||i.match(/^(\*\/\d+) \* \* \* \*$/)){let e=a[1].includes("/")?parseInt(a[1].split("/")[1],10):parseInt(a[1],10);t("Daily"),A({mode:"interval",interval:e,times:["09:00"]});return}if(a=i.match(/^([0-9,]+) ([0-9,]+) \* \* \*$/)){let e=a[1].split(","),n=a[2].split(","),i=e.map((e,t)=>"".concat(n[t].padStart(2,"0"),":").concat(e.padStart(2,"0")));t("Daily"),A({mode:"times",interval:15,times:i});return}if(a=i.match(/^ \*\/(\d+) \* \* \* ([A-Z]{3}(?:,[A-Z]{3})*)$/)||i.match(/^(\*\/\d+) \* \* \* ([A-Z]{3}(?:,[A-Z]{3})*)$/)){let e=a[1].includes("/")?parseInt(a[1].split("/")[1],10):parseInt(a[1],10),n=a[2].split(",").map(e=>e.charAt(0)+e.slice(1).toLowerCase().slice(0,2));t("Weekly"),f({daysOfWeek:n,mode:"interval",interval:e,times:["09:00"]});return}if(a=i.match(/^([0-9,]+) ([0-9,]+) \* \* ([A-Z]{3}(?:,[A-Z]{3})*)$/)){let e=a[1].split(","),n=a[2].split(","),i=e.map((e,t)=>"".concat(n[t].padStart(2,"0"),":").concat(e.padStart(2,"0"))),l=a[3].split(",").map(e=>e.charAt(0)+e.slice(1).toLowerCase().slice(0,2));t("Weekly"),f({daysOfWeek:l,mode:"times",interval:15,times:i});return}if(a=i.match(/^ \*\/(\d+) \* ([1-9][0-9]*(?:,[1-9][0-9]*)*) \* \*$/)||i.match(/^(\*\/\d+) \* ([1-9][0-9]*(?:,[1-9][0-9]*)*) \* \*$/)){let e=a[1].includes("/")?parseInt(a[1].split("/")[1],10):parseInt(a[1],10),n=a[2].split(",").map(e=>parseInt(e,10));t("Monthly"),b({daysOfMonth:n,mode:"interval",interval:e,times:["09:00"]});return}if(a=i.match(/^([0-9,]+) ([0-9,]+) ([1-9][0-9]*(?:,[1-9][0-9]*)*) \* \*$/)){let e=a[1].split(","),n=a[2].split(","),i=a[3].split(",").map(e=>parseInt(e,10)),l=e.map((e,t)=>"".concat(n[t].padStart(2,"0"),":").concat(e.padStart(2,"0")));t("Monthly"),b({daysOfMonth:i,mode:"times",interval:15,times:l});return}t("Custom"),M(i),x(!0)},variant:"contained",color:"primary",startIcon:(0,a.jsx)(N.A,{}),children:"Load"}),(0,a.jsx)(u.A,{onClick:()=>{x(!1);let t="";switch(e){case"Daily":if("interval"===j.mode)t="*/".concat(j.interval," * * * *");else{let e=j.times.map(e=>e.split(":")[1]).join(","),n=j.times.map(e=>e.split(":")[0]).join(",");t="".concat(e," ").concat(n," * * *")}break;case"Weekly":if("interval"===g.mode){let e=g.daysOfWeek.map(e=>e.slice(0,3).toUpperCase()).join(",");t="*/".concat(g.interval," * * * ").concat(e)}else{let e=g.times.map(e=>e.split(":")[1]).join(","),n=g.times.map(e=>e.split(":")[0]).join(","),a=g.daysOfWeek.map(e=>e.slice(0,3).toUpperCase()).join(",");t="".concat(e," ").concat(n," * * ").concat(a)}break;case"Monthly":if("interval"===y.mode){let e=y.daysOfMonth.join(",");t="*/".concat(y.interval," * ").concat(e," * *")}else{let e=y.times.map(e=>e.split(":")[1]).join(","),n=y.times.map(e=>e.split(":")[0]).join(","),a=y.daysOfMonth.join(",");t="".concat(e," ").concat(n," ").concat(a," * *")}break;case"Custom":t=k;break;default:t=""}r(t.trim())},variant:"outlined",color:"primary",startIcon:(0,a.jsx)(Z.A,{}),children:"Save"})]})]})}function P(){return(0,a.jsx)(X,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[194,636,593,792],()=>t(2898)),_N_E=e.O()}]);